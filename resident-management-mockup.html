<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¸ì› ê´€ë¦¬ - UI ëª©ì—…</title>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #F3F4F6;
      color: #374151;
      line-height: 1.5;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 24px;
    }

    .section-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 24px;
    }

    /* ===== ëŒ€ì‹œë³´ë“œ ì¹´ë“œ ìŠ¤íƒ€ì¼ ===== */
    .card {
      background: #FFFFFF;
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.03), 0 4px 12px rgba(0,0,0,0.05);
      padding: 14px 20px;
      min-height: 140px;
      height: auto;
      position: relative;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 4px;
    }

    .card-title-group {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 600;
      color: #1F2937;
    }

    /* íˆ´íŒ ìŠ¤íƒ€ì¼ */
    .info-btn {
      background: none;
      border: none;
      cursor: help;
      font-size: 14px;
      opacity: 0.5;
      position: relative;
    }

    .info-btn:hover {
      opacity: 1;
    }

    .info-btn .tooltip {
      display: none;
      position: absolute;
      top: 24px;
      left: 50%;
      transform: translateX(-50%);
      background: #1F2937;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      z-index: 100;
      font-weight: 400;
    }

    .info-btn .tooltip::before {
      content: '';
      position: absolute;
      top: -6px;
      left: 50%;
      transform: translateX(-50%);
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 6px solid #1F2937;
    }

    .info-btn:hover .tooltip {
      display: block;
    }

    .card-detail {
      font-size: 0.875rem;
      color: #7B7B7B;
      background: #F3F4F6;
      border: none;
      border-radius: 4px;
      padding: 4px 8px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .card-detail:hover {
      background: #E5E7EB;
    }

    .card-main {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .card-main .icon {
      width: 28px;
      height: 28px;
      background-size: contain;
      background-repeat: no-repeat;
    }

    .card-value {
      font-size: 2rem;
      font-weight: 700;
      color: #2A6AA6;
      margin: 0;
    }

    .card-subinfo {
      display: flex;
      gap: 16px;
      font-size: 0.875rem;
      color: #7B7B7B;
    }

    .card-subinfo-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .card-subinfo-value {
      font-weight: 600;
      color: #2A6AA6;
    }

    .card-subinfo-value.warning {
      color: #DC2626;
    }

    /* ===== ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ===== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal {
      background: white;
      border-radius: 16px;
      width: 900px;
      max-height: 90vh;
      overflow: hidden;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 24px;
      border-bottom: 1px solid #E5E7EB;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #6B7280;
      padding: 4px;
    }

    .modal-close:hover {
      color: #374151;
    }

    .modal-tabs {
      display: flex;
      border-bottom: 1px solid #E5E7EB;
      padding: 0 24px;
    }

    .modal-tab {
      padding: 12px 20px;
      font-size: 14px;
      font-weight: 600;
      color: #6B7280;
      border: none;
      background: none;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
      transition: all 0.2s;
    }

    .modal-tab:hover {
      color: #374151;
    }

    .modal-tab.active {
      color: #2563EB;
      border-bottom-color: #2563EB;
    }

    .modal-body {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
    }

    /* ===== ê³µí†µ ë²„íŠ¼ ===== */
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }

    .btn-primary {
      background: #2563EB;
      color: white;
    }

    .btn-primary:hover {
      background: #1D4ED8;
    }

    .btn-secondary {
      background: #F3F4F6;
      color: #374151;
    }

    .btn-secondary:hover {
      background: #E5E7EB;
    }

    .btn-danger {
      background: #FEE2E2;
      color: #DC2626;
    }

    .btn-danger:hover {
      background: #FECACA;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    /* ===== í…Œì´ë¸” ===== */
    .list-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .list-count {
      font-size: 14px;
      color: #6B7280;
    }

    .list-count strong {
      color: #1F2937;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
    }

    .data-table th {
      text-align: left;
      padding: 12px 16px;
      background: #F9FAFB;
      font-size: 12px;
      font-weight: 600;
      color: #6B7280;
      border-bottom: 1px solid #E5E7EB;
    }

    .data-table td {
      padding: 16px;
      border-bottom: 1px solid #E5E7EB;
      font-size: 14px;
      vertical-align: middle;
    }

    .data-table tr:hover {
      background: #F9FAFB;
    }

    .resident-profile {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .resident-avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: #E5E7EB;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      overflow: hidden;
    }

    .resident-name {
      font-weight: 600;
    }

    .gender-badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
    }

    .gender-badge.male {
      background: #DBEAFE;
      color: #1D4ED8;
    }

    .gender-badge.female {
      background: #FCE7F3;
      color: #BE185D;
    }

    .watch-connected {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      background: #D1FAE5;
      color: #065F46;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }

    .watch-disconnected {
      color: #9CA3AF;
      font-size: 13px;
    }

    .action-btns {
      display: flex;
      gap: 8px;
    }

    .note-text {
      max-width: 150px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: #6B7280;
      font-size: 13px;
    }

    /* ===== í¼ ìŠ¤íƒ€ì¼ ===== */
    .form-section {
      background: #F9FAFB;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
    }

    .form-section-title {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .form-group.full-width {
      grid-column: span 2;
    }

    .form-label {
      font-size: 13px;
      font-weight: 600;
      color: #374151;
    }

    .form-label .required {
      color: #DC2626;
    }

    .form-input {
      padding: 10px 14px;
      border: 1px solid #D1D5DB;
      border-radius: 8px;
      font-size: 14px;
      transition: all 0.2s;
    }

    .form-input:focus {
      outline: none;
      border-color: #2563EB;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .form-textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* ë¼ë””ì˜¤ ë²„íŠ¼ ê·¸ë£¹ */
    .radio-group {
      display: flex;
      gap: 16px;
    }

    .radio-item {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }

    .radio-item input[type="radio"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .radio-item label {
      font-size: 14px;
      cursor: pointer;
    }

    /* í”„ë¡œí•„ ì´ë¯¸ì§€ ì„ íƒ */
    .profile-selector {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .profile-options {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .profile-option {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      border: 3px solid transparent;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      background: #F3F4F6;
    }

    .profile-option:hover {
      border-color: #93C5FD;
    }

    .profile-option.selected {
      border-color: #2563EB;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
    }

    .profile-option img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }

    .profile-upload-option {
      background: white;
      border: 2px dashed #D1D5DB;
    }

    .profile-upload-option:hover {
      border-color: #2563EB;
      background: #EFF6FF;
    }

    /* ë°°ê²½ ìƒ‰ìƒ ì„ íƒ */
    .color-selector {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .color-options {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .color-option {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 3px solid transparent;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .color-option:hover {
      transform: scale(1.1);
    }

    .color-option.selected {
      border-color: #2563EB;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
    }

    .profile-preview {
      display: flex;
      align-items: center;
      margin-top: 8px;
    }

    .preview-avatar {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: #E5E7EB;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 24px;
      padding-top: 24px;
      border-top: 1px solid #E5E7EB;
    }

    /* ===== ì›Œì¹˜ ê´€ë¦¬ ===== */
    .device-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .device-card {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      background: #F9FAFB;
      border-radius: 12px;
      border: 2px solid transparent;
      transition: all 0.2s;
    }

    .device-card:hover {
      border-color: #E5E7EB;
    }

    .device-card.connected {
      background: #F0FDF4;
      border-color: #86EFAC;
    }

    .device-info {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .device-icon {
      width: 48px;
      height: 48px;
      background: white;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .device-name {
      font-weight: 600;
      font-size: 15px;
    }

    .device-id {
      font-size: 12px;
      color: #6B7280;
      font-family: monospace;
    }

    .device-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #6B7280;
    }

    .device-status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #10B981;
    }

    .device-status-dot.offline {
      background: #9CA3AF;
    }

    .device-mapping {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .mapped-resident {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      background: white;
      border-radius: 8px;
    }

    .mapped-avatar {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: #E5E7EB;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .mapped-name {
      font-size: 13px;
      font-weight: 600;
    }

    .mapping-select {
      padding: 8px 12px;
      border: 1px solid #D1D5DB;
      border-radius: 8px;
      font-size: 13px;
      min-width: 150px;
    }

    /* ì›Œì¹˜ ë“±ë¡ í¼ */
    .watch-register-form {
      background: #EFF6FF;
      border: 1px solid #BFDBFE;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .watch-register-form .form-grid {
      grid-template-columns: 1fr 1fr auto;
      gap: 12px;
      align-items: end;
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 768px) {
      .modal {
        width: 95%;
        max-height: 95vh;
      }

      .form-grid {
        grid-template-columns: 1fr;
      }

      .form-group.full-width {
        grid-column: span 1;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="section-title">ëŒ€ì‹œë³´ë“œ ì¹´ë“œ</h2>

    <div style="display: flex; gap: 24px; flex-wrap: wrap;">
      <!-- ì¸ì› ê´€ë¦¬ ì¹´ë“œ -->
      <div class="card" style="width: 240px;">
        <div class="card-header">
          <div class="card-title-group">
            <span class="card-title">ì¸ì› ê´€ë¦¬</span>
            <button class="info-btn">â“˜
              <span class="tooltip">ì…ì†Œì ë“±ë¡ ë° ì›Œì¹˜ ì—°ê²°ì„ ê´€ë¦¬í•©ë‹ˆë‹¤</span>
            </button>
          </div>
          <button class="card-detail" onclick="openModal()">ê´€ë¦¬</button>
        </div>
        <div class="card-main">
          <span class="icon" style="background-image: url('assets/card_1.png');"></span>
          <span class="card-value">26</span>
        </div>
        <div class="card-subinfo">
          <div class="card-subinfo-item">
            ì›Œì¹˜ ì—°ê²°: <span class="card-subinfo-value">24</span>
          </div>
          <div class="card-subinfo-item">
            ë¯¸ì—°ê²°: <span class="card-subinfo-value warning">2</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì¸ì› ê´€ë¦¬ ëª¨ë‹¬ -->
  <div class="modal-overlay hidden" id="modal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">ì¸ì› ê´€ë¦¬</div>
        <button class="modal-close" onclick="closeModal()">&times;</button>
      </div>

      <div class="modal-tabs">
        <button class="modal-tab active" onclick="switchTab('list')">ì…ì†Œì ëª©ë¡</button>
        <button class="modal-tab" onclick="switchTab('register')">ì¸ì› ë“±ë¡</button>
        <button class="modal-tab" onclick="switchTab('device')">ì›Œì¹˜ ì—°ê²° ê´€ë¦¬</button>
      </div>

      <div class="modal-body">
        <!-- ===== ì…ì†Œì ëª©ë¡ íƒ­ ===== -->
        <div id="tab-list">
          <div class="list-header">
            <div class="list-count">ì´ <strong>26ëª…</strong> ë“±ë¡</div>
            <button class="btn btn-primary btn-sm" onclick="switchTab('register')">
              + ìƒˆ ì…ì†Œì ë“±ë¡
            </button>
          </div>

          <table class="data-table">
            <thead>
              <tr>
                <th>ì…ì†Œì</th>
                <th>ì„±ë³„</th>
                <th>ë‚˜ì´</th>
                <th>í˜¸ì‹¤</th>
                <th>ì›Œì¹˜ ì—°ê²°</th>
                <th>íŠ¹ì´ì‚¬í•­</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="resident-profile">
                    <div class="resident-avatar">ğŸ‘µ</div>
                    <div class="resident-name">ê¹€ìˆœì</div>
                  </div>
                </td>
                <td><span class="gender-badge female">ì—¬</span></td>
                <td>84ì„¸</td>
                <td>101í˜¸</td>
                <td><div class="watch-connected"><span>âŒš</span> GW-001</div></td>
                <td><span class="note-text">ê³ í˜ˆì••, ë‹¹ë‡¨</span></td>
                <td>
                  <div class="action-btns">
                    <button class="btn btn-secondary btn-sm" onclick="editResident()">ìˆ˜ì •</button>
                    <button class="btn btn-danger btn-sm">ì‚­ì œ</button>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="resident-profile">
                    <div class="resident-avatar">ğŸ‘µ</div>
                    <div class="resident-name">ë°•ì˜í¬</div>
                  </div>
                </td>
                <td><span class="gender-badge female">ì—¬</span></td>
                <td>79ì„¸</td>
                <td>102í˜¸</td>
                <td><div class="watch-connected"><span>âŒš</span> GW-002</div></td>
                <td><span class="note-text">ì¹˜ë§¤ ì´ˆê¸°</span></td>
                <td>
                  <div class="action-btns">
                    <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                    <button class="btn btn-danger btn-sm">ì‚­ì œ</button>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="resident-profile">
                    <div class="resident-avatar">ğŸ‘´</div>
                    <div class="resident-name">ì´ì² ìˆ˜</div>
                  </div>
                </td>
                <td><span class="gender-badge male">ë‚¨</span></td>
                <td>77ì„¸</td>
                <td>103í˜¸</td>
                <td><div class="watch-connected"><span>âŒš</span> GW-003</div></td>
                <td><span class="note-text">-</span></td>
                <td>
                  <div class="action-btns">
                    <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                    <button class="btn btn-danger btn-sm">ì‚­ì œ</button>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="resident-profile">
                    <div class="resident-avatar">ğŸ‘µ</div>
                    <div class="resident-name">í•œë¯¸ìˆ™</div>
                  </div>
                </td>
                <td><span class="gender-badge female">ì—¬</span></td>
                <td>75ì„¸</td>
                <td>105í˜¸</td>
                <td><span class="watch-disconnected">ë¯¸ì—°ê²°</span></td>
                <td><span class="note-text">ê´€ì ˆì—¼</span></td>
                <td>
                  <div class="action-btns">
                    <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                    <button class="btn btn-danger btn-sm">ì‚­ì œ</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- ===== ì¸ì› ë“±ë¡ íƒ­ ===== -->
        <div id="tab-register" class="hidden">
          <div class="form-section">
            <div class="form-section-title">
              <span>ğŸ‘¤</span> ê¸°ë³¸ ì •ë³´
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">ì´ë¦„ <span class="required">*</span></label>
                <input type="text" class="form-input" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
              </div>
              <div class="form-group">
                <label class="form-label">ë‚˜ì´ <span class="required">*</span></label>
                <input type="number" class="form-input" placeholder="ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
              </div>
              <div class="form-group">
                <label class="form-label">ì„±ë³„ <span class="required">*</span></label>
                <div class="radio-group">
                  <div class="radio-item">
                    <input type="radio" id="gender-male" name="gender" value="male">
                    <label for="gender-male">ë‚¨ì„±</label>
                  </div>
                  <div class="radio-item">
                    <input type="radio" id="gender-female" name="gender" value="female">
                    <label for="gender-female">ì—¬ì„±</label>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="form-label">í˜¸ì‹¤</label>
                <input type="text" class="form-input" placeholder="ì˜ˆ: 101í˜¸">
              </div>
              <div class="form-group full-width">
                <label class="form-label">í”„ë¡œí•„ ì´ë¯¸ì§€</label>
                <div class="profile-selector">
                  <div class="profile-options">
                    <div class="profile-option selected">ğŸ‘µ</div>
                    <div class="profile-option">ğŸ‘´</div>
                    <div class="profile-option">ğŸ‘©</div>
                    <div class="profile-option">ğŸ‘¨</div>
                    <div class="profile-option">ğŸ§“</div>
                    <div class="profile-option">ğŸ‘©â€ğŸ¦³</div>
                    <div class="profile-option">ğŸ‘¨â€ğŸ¦³</div>
                    <div class="profile-option">ğŸ§‘â€ğŸ¦³</div>
                    <div class="profile-option">ğŸ‘§</div>
                    <div class="profile-option">ğŸ‘¦</div>
                    <div class="profile-option">ğŸ§”</div>
                    <div class="profile-option">ğŸ‘±â€â™€ï¸</div>
                    <div class="profile-option">ğŸ‘±â€â™‚ï¸</div>
                    <div class="profile-option">ğŸ§•</div>
                    <div class="profile-option">ğŸ‘³â€â™€ï¸</div>
                    <div class="profile-option">ğŸ‘³â€â™‚ï¸</div>
                    <div class="profile-option">ğŸ§‘</div>
                    <div class="profile-option">ğŸ‘¶</div>
                    <div class="profile-option">ğŸ§’</div>
                    <div class="profile-option profile-upload-option" title="ì§ì ‘ ì—…ë¡œë“œ">+</div>
                  </div>
                </div>
              </div>
              <div class="form-group full-width">
                <label class="form-label">ë°°ê²½ ìƒ‰ìƒ</label>
                <div class="color-selector">
                  <div class="color-options">
                    <div class="color-option selected" data-color="#E5E7EB" style="background: #E5E7EB;"></div>
                    <div class="color-option" data-color="#FEE2E2" style="background: #FEE2E2;"></div>
                    <div class="color-option" data-color="#FECACA" style="background: #FECACA;"></div>
                    <div class="color-option" data-color="#FEF3C7" style="background: #FEF3C7;"></div>
                    <div class="color-option" data-color="#FDE68A" style="background: #FDE68A;"></div>
                    <div class="color-option" data-color="#D1FAE5" style="background: #D1FAE5;"></div>
                    <div class="color-option" data-color="#A7F3D0" style="background: #A7F3D0;"></div>
                    <div class="color-option" data-color="#DBEAFE" style="background: #DBEAFE;"></div>
                    <div class="color-option" data-color="#BFDBFE" style="background: #BFDBFE;"></div>
                    <div class="color-option" data-color="#E0E7FF" style="background: #E0E7FF;"></div>
                    <div class="color-option" data-color="#C7D2FE" style="background: #C7D2FE;"></div>
                    <div class="color-option" data-color="#FCE7F3" style="background: #FCE7F3;"></div>
                    <div class="color-option" data-color="#FBCFE8" style="background: #FBCFE8;"></div>
                    <div class="color-option" data-color="#F3E8FF" style="background: #F3E8FF;"></div>
                    <div class="color-option" data-color="#DDD6FE" style="background: #DDD6FE;"></div>
                    <div class="color-option" data-color="#CCFBF1" style="background: #CCFBF1;"></div>
                    <div class="color-option" data-color="#99F6E4" style="background: #99F6E4;"></div>
                    <div class="color-option" data-color="#FED7AA" style="background: #FED7AA;"></div>
                    <div class="color-option" data-color="#FDBA74" style="background: #FDBA74;"></div>
                    <div class="color-option" data-color="#F5F5F4" style="background: #F5F5F4;"></div>
                  </div>
                  <div class="profile-preview">
                    <span style="font-size: 12px; color: #6B7280; margin-right: 12px;">ë¯¸ë¦¬ë³´ê¸°:</span>
                    <div class="preview-avatar" id="profile-preview">ğŸ‘µ</div>
                  </div>
                </div>
              </div>
              <div class="form-group full-width">
                <label class="form-label">íŠ¹ì´ì‚¬í•­</label>
                <textarea class="form-input form-textarea" placeholder="ê±´ê°• ìƒíƒœ, ì£¼ì˜ì‚¬í•­ ë“±ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button class="btn btn-secondary" onclick="switchTab('list')">ì·¨ì†Œ</button>
            <button class="btn btn-primary">ì…ì†Œì ë“±ë¡</button>
          </div>
        </div>

        <!-- ===== ì›Œì¹˜ ì—°ê²° ê´€ë¦¬ íƒ­ ===== -->
        <div id="tab-device" class="hidden">
          <!-- ì›Œì¹˜ ë“±ë¡ í¼ -->
          <div class="watch-register-form">
            <div class="form-section-title" style="margin-bottom: 12px;">
              <span>â•</span> ìƒˆ ì›Œì¹˜ ë“±ë¡
            </div>
            <div class="form-grid" style="grid-template-columns: 1fr 1fr auto; align-items: end;">
              <div class="form-group" style="margin: 0;">
                <label class="form-label">ì›Œì¹˜ ID <span class="required">*</span></label>
                <input type="text" class="form-input" placeholder="ì˜ˆ: GW-010">
              </div>
              <div class="form-group" style="margin: 0;">
                <label class="form-label">ì›Œì¹˜ ì´ë¦„</label>
                <input type="text" class="form-input" placeholder="Galaxy Watch 5">
              </div>
              <button class="btn btn-primary">ë“±ë¡</button>
            </div>
          </div>

          <div class="list-header">
            <div class="list-count">
              ë“±ë¡ëœ ì›Œì¹˜ <strong>30ëŒ€</strong> | ì—°ê²°ë¨ <strong>24ëŒ€</strong> | ë¯¸ì—°ê²° <strong style="color:#DC2626;">6ëŒ€</strong>
            </div>
          </div>

          <div class="device-list">
            <!-- ì—°ê²°ëœ ì›Œì¹˜ -->
            <div class="device-card connected">
              <div class="device-info">
                <div class="device-icon">âŒš</div>
                <div>
                  <div class="device-name">Galaxy Watch 5</div>
                  <div class="device-id">GW-001</div>
                  <div class="device-status">
                    <span class="device-status-dot"></span>
                    ì˜¨ë¼ì¸ | ë°°í„°ë¦¬ 85%
                  </div>
                </div>
              </div>
              <div class="device-mapping">
                <div class="mapped-resident">
                  <div class="mapped-avatar">ğŸ‘µ</div>
                  <span class="mapped-name">ê¹€ìˆœì</span>
                </div>
                <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                <button class="btn btn-danger btn-sm">ì—°ê²° í•´ì œ</button>
              </div>
            </div>

            <div class="device-card connected">
              <div class="device-info">
                <div class="device-icon">âŒš</div>
                <div>
                  <div class="device-name">Galaxy Watch 5</div>
                  <div class="device-id">GW-002</div>
                  <div class="device-status">
                    <span class="device-status-dot"></span>
                    ì˜¨ë¼ì¸ | ë°°í„°ë¦¬ 72%
                  </div>
                </div>
              </div>
              <div class="device-mapping">
                <div class="mapped-resident">
                  <div class="mapped-avatar">ğŸ‘µ</div>
                  <span class="mapped-name">ë°•ì˜í¬</span>
                </div>
                <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                <button class="btn btn-danger btn-sm">ì—°ê²° í•´ì œ</button>
              </div>
            </div>

            <div class="device-card connected">
              <div class="device-info">
                <div class="device-icon">âŒš</div>
                <div>
                  <div class="device-name">Galaxy Watch 5</div>
                  <div class="device-id">GW-003</div>
                  <div class="device-status">
                    <span class="device-status-dot"></span>
                    ì˜¨ë¼ì¸ | ë°°í„°ë¦¬ 45%
                  </div>
                </div>
              </div>
              <div class="device-mapping">
                <div class="mapped-resident">
                  <div class="mapped-avatar">ğŸ‘´</div>
                  <span class="mapped-name">ì´ì² ìˆ˜</span>
                </div>
                <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                <button class="btn btn-danger btn-sm">ì—°ê²° í•´ì œ</button>
              </div>
            </div>

            <!-- ë¯¸ì—°ê²° ì›Œì¹˜ -->
            <div class="device-card">
              <div class="device-info">
                <div class="device-icon" style="opacity:0.5;">âŒš</div>
                <div>
                  <div class="device-name">Galaxy Watch 5</div>
                  <div class="device-id">GW-010</div>
                  <div class="device-status">
                    <span class="device-status-dot offline"></span>
                    ì˜¤í”„ë¼ì¸
                  </div>
                </div>
              </div>
              <div class="device-mapping">
                <select class="mapping-select">
                  <option value="">ì…ì†Œì ì„ íƒ...</option>
                  <option value="han">í•œë¯¸ìˆ™ (105í˜¸)</option>
                  <option value="kim">ê¹€íƒœí˜¸ (107í˜¸)</option>
                </select>
                <button class="btn btn-primary btn-sm">ì—°ê²°</button>
                <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                <button class="btn btn-danger btn-sm">ì‚­ì œ</button>
              </div>
            </div>

            <div class="device-card">
              <div class="device-info">
                <div class="device-icon" style="opacity:0.5;">âŒš</div>
                <div>
                  <div class="device-name">Galaxy Watch 5</div>
                  <div class="device-id">GW-011</div>
                  <div class="device-status">
                    <span class="device-status-dot offline"></span>
                    ì˜¤í”„ë¼ì¸
                  </div>
                </div>
              </div>
              <div class="device-mapping">
                <select class="mapping-select">
                  <option value="">ì…ì†Œì ì„ íƒ...</option>
                  <option value="han">í•œë¯¸ìˆ™ (105í˜¸)</option>
                  <option value="kim">ê¹€íƒœí˜¸ (107í˜¸)</option>
                </select>
                <button class="btn btn-primary btn-sm">ì—°ê²°</button>
                <button class="btn btn-secondary btn-sm">ìˆ˜ì •</button>
                <button class="btn btn-danger btn-sm">ì‚­ì œ</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function openModal() {
      document.getElementById('modal').classList.remove('hidden');
    }

    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
    }

    function switchTab(tabName) {
      // ëª¨ë“  íƒ­ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
      document.getElementById('tab-list').classList.add('hidden');
      document.getElementById('tab-register').classList.add('hidden');
      document.getElementById('tab-device').classList.add('hidden');

      // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.modal-tab').forEach(tab => {
        tab.classList.remove('active');
      });

      // ì„ íƒí•œ íƒ­ í™œì„±í™”
      document.getElementById('tab-' + tabName).classList.remove('hidden');

      // íƒ­ ë²„íŠ¼ í™œì„±í™”
      const tabs = document.querySelectorAll('.modal-tab');
      if (tabName === 'list') tabs[0].classList.add('active');
      if (tabName === 'register') tabs[1].classList.add('active');
      if (tabName === 'device') tabs[2].classList.add('active');
    }

    function editResident() {
      switchTab('register');
    }

    // í”„ë¡œí•„ ì´ë¯¸ì§€ ì„ íƒ
    document.querySelectorAll('.profile-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.profile-option').forEach(o => o.classList.remove('selected'));
        this.classList.add('selected');
        // ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
        if (!this.classList.contains('profile-upload-option')) {
          document.getElementById('profile-preview').textContent = this.textContent;
        }
      });
    });

    // ë°°ê²½ ìƒ‰ìƒ ì„ íƒ
    document.querySelectorAll('.color-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.color-option').forEach(o => o.classList.remove('selected'));
        this.classList.add('selected');
        // ë¯¸ë¦¬ë³´ê¸° ë°°ê²½ìƒ‰ ì—…ë°ì´íŠ¸
        const color = this.getAttribute('data-color');
        document.getElementById('profile-preview').style.background = color;
      });
    });

    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
    document.getElementById('modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeModal();
      }
    });

    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    });
  </script>
</body>
</html>
